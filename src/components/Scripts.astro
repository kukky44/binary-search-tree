---
interface Props {
  type: 'bst-full' | 'bst-vis-only' | 'bst-partial' | 'avl-full' | 'avl-vis-only' | 'avl-partial';
}

const { type } = Astro.props;

// Common scripts for all versions
const commonScripts = [
  '/js/utils/CanvasSetting.js',
  '/js/controllers/UIController.js',
  '/js/views/CodeDisplayManager.js',
  '/js/controllers/RecursionStackController.js',
  '/js/views/IntBSTRenderer.js',
  '/js/main.js'
];

// Version specific scripts
const scriptConfigs = {
  'bst-full': [
    '/js/view-types/view-type-full.js',
    '/js/utils/CodeSnippet.js',
    '/js/utils/Constants.js',
    '/js/models/Node.js',
    '/js/models/IntBST.js',
    '/js/controllers/AnimationController.js',
  ],
  'bst-vis-only': [
    '/js/view-types/view-type-visOnly.js',
    '/js/utils/CodeSnippetVisOnly.js',
    '/js/utils/Constants.js',
    '/js/models/Node.js',
    '/js/models/IntBST.js',
    '/js/controllers/AnimationController.js',
  ],
  'bst-partial': [
    '/js/view-types/view-type-partial.js',
    '/js/utils/PartialCodeSnippet.js',
    '/js/utils/Constants.js',
    '/js/models/Node.js',
    '/js/models/IntBST.js',
    '/js/controllers/AnimationController.js',
  ],
  'avl-full': [
    '/js/view-types/view-type-full.js',
    '/js/utils/AvlCodeSnippet.js',
    '/js/utils/AvlConstants.js',
    '/js/models/Node.js',
    '/js/models/AvlIntBSTForAnimation.js',
    '/js/models/AvlIntBST.js',
    '/js/controllers/AvlAnimationController.js',
  ],
  'avl-vis-only': [
    '/js/view-types/view-type-visOnly.js',
    '/js/utils/AvlCodeSnippet.js',
    '/js/utils/AvlConstants.js',
    '/js/models/Node.js',
    '/js/models/AvlIntBSTForAnimation.js',
    '/js/models/AvlIntBST.js',
    '/js/controllers/AvlAnimationController.js',
  ],
  'avl-partial': [
    '/js/view-types/view-type-partial.js',
    '/js/utils/AvlPartialCodeSnippet.js',
    '/js/utils/AvlConstants.js',
    '/js/models/Node.js',
    '/js/models/AvlIntBSTForAnimation.js',
    '/js/models/AvlIntBST.js',
    '/js/controllers/AvlAnimationController.js',
  ],
};

const scripts = [...scriptConfigs[type], ...commonScripts];

const baseUrl = import.meta.env.BASE_URL || '/';
---

<script src={`${baseUrl}/p5.min.js`} is:inline></script>
<script src={`${baseUrl}/js/controllers/BaseAnimationController.js`} is:inline></script>
{scripts.map(script => (
  <script src={`${baseUrl}${script}`} is:inline></script>
))} 